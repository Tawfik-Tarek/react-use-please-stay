{"version":3,"file":"index.js","sources":["../src/hooks/useInterval.ts","../src/hooks/usePleaseStay.ts"],"sourcesContent":["import { useEffect, useRef } from \"react\";\r\n\r\nexport const useInterval = (\r\n  callback: () => void,\r\n  shouldRun: boolean,\r\n  interval: number\r\n) => {\r\n  const callbackRef = useRef(callback);\r\n  useEffect(() => {\r\n    callbackRef.current = callback;\r\n  }, [callbackRef]);\r\n\r\n  useEffect(() => {\r\n    if (!shouldRun) {\r\n      return;\r\n    }\r\n    const intervalId = setInterval(() => callbackRef.current(), interval);\r\n    return () => clearInterval(intervalId);\r\n  }, [interval, shouldRun]);\r\n};\r\n","import { useEffect, useState } from \"react\";\r\nimport { useInterval } from \"./useInterval\";\r\n\r\nexport const usePleaseStay = (titles: string[]) => {\r\n  const [shouldIterateTitles, setShouldIterateTitles] = useState(false);\r\n  const [currentTitleIndex, setCurrentTitleIndex] = useState(0);\r\n  const handelVisibilityChange = () => {\r\n    setShouldIterateTitles(document.visibilityState !== \"visible\");\r\n  };\r\n  useEffect(() => {\r\n    // Runs on mount\r\n    document.addEventListener(\"visibilitychange\", handelVisibilityChange);\r\n    return () => {\r\n      // Runs on unmount\r\n      document.removeEventListener(\"visibilitychange\", handelVisibilityChange);\r\n    };\r\n  }, []);\r\n\r\n  useInterval(\r\n    () => {\r\n      setShouldIterateTitles(true);\r\n      setCurrentTitleIndex((prev) =>\r\n        prev + 1 === titles.length ? 0 : prev + 1\r\n      );\r\n    },\r\n    shouldIterateTitles,\r\n    1000\r\n  );\r\n\r\n  useEffect(() => {\r\n    document.title = titles[currentTitleIndex];\r\n  }, [titles, currentTitleIndex]);\r\n};\r\n"],"names":[],"mappings":";;AAEO,IAAM,WAAW,GAAG,UACzB,QAAoB,EACpB,SAAkB,EAClB,QAAgB,EAAA;AAEhB,IAAA,IAAM,WAAW,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;AACrC,IAAA,SAAS,CAAC,YAAA;AACR,QAAA,WAAW,CAAC,OAAO,GAAG,QAAQ,CAAC;AACjC,KAAC,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC;AAElB,IAAA,SAAS,CAAC,YAAA;QACR,IAAI,CAAC,SAAS,EAAE;YACd,OAAO;SACR;AACD,QAAA,IAAM,UAAU,GAAG,WAAW,CAAC,cAAM,OAAA,WAAW,CAAC,OAAO,EAAE,CAArB,EAAqB,EAAE,QAAQ,CAAC,CAAC;QACtE,OAAO,YAAA,EAAM,OAAA,aAAa,CAAC,UAAU,CAAC,CAAA,EAAA,CAAC;AACzC,KAAC,EAAE,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC,CAAC;AAC5B,CAAC;;AChBM,IAAM,aAAa,GAAG,UAAC,MAAgB,EAAA;IACtC,IAAA,EAAA,GAAgD,QAAQ,CAAC,KAAK,CAAC,EAA9D,mBAAmB,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,sBAAsB,GAAA,EAAA,CAAA,CAAA,CAAmB,CAAC;IAChE,IAAA,EAAA,GAA4C,QAAQ,CAAC,CAAC,CAAC,EAAtD,iBAAiB,GAAA,EAAA,CAAA,CAAA,CAAA,EAAE,oBAAoB,GAAA,EAAA,CAAA,CAAA,CAAe,CAAC;AAC9D,IAAA,IAAM,sBAAsB,GAAG,YAAA;AAC7B,QAAA,sBAAsB,CAAC,QAAQ,CAAC,eAAe,KAAK,SAAS,CAAC,CAAC;AACjE,KAAC,CAAC;AACF,IAAA,SAAS,CAAC,YAAA;;AAER,QAAA,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,sBAAsB,CAAC,CAAC;QACtE,OAAO,YAAA;;AAEL,YAAA,QAAQ,CAAC,mBAAmB,CAAC,kBAAkB,EAAE,sBAAsB,CAAC,CAAC;AAC3E,SAAC,CAAC;KACH,EAAE,EAAE,CAAC,CAAC;AAEP,IAAA,WAAW,CACT,YAAA;QACE,sBAAsB,CAAC,IAAI,CAAC,CAAC;QAC7B,oBAAoB,CAAC,UAAC,IAAI,EAAA;AACxB,YAAA,OAAA,IAAI,GAAG,CAAC,KAAK,MAAM,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,CAAA;AAAzC,SAAyC,CAC1C,CAAC;AACJ,KAAC,EACD,mBAAmB,EACnB,IAAI,CACL,CAAC;AAEF,IAAA,SAAS,CAAC,YAAA;AACR,QAAA,QAAQ,CAAC,KAAK,GAAG,MAAM,CAAC,iBAAiB,CAAC,CAAC;AAC7C,KAAC,EAAE,CAAC,MAAM,EAAE,iBAAiB,CAAC,CAAC,CAAC;AAClC;;;;"}